{"version":3,"file":"js/search.478a3120.js","mappings":"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","sources":["webpack://wyy-app/./src/views/Search.vue?4a52","webpack://wyy-app/./src/views/Search.vue","webpack://wyy-app/./src/views/Search.vue?ca79"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withKeys as _withKeys, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6753534a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"searchTop\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-zuojiantou\"\n}, null, -1));\n\nconst _hoisted_3 = [_hoisted_2];\nconst _hoisted_4 = {\n  class: \"searchHistory\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"lishi\"\n}, \"历史\", -1));\n\nconst _hoisted_6 = [\"onClick\"];\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-shanchu\"\n}, null, -1));\n\nconst _hoisted_8 = [_hoisted_7];\nconst _hoisted_9 = {\n  class: \"itemList\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"leftSpan\"\n};\nconst _hoisted_12 = {\n  class: \"itemRight\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"icon bofang\",\n  \"aria-hidden\": \"true\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-shipinbofang\"\n}, null, -1));\n\nconst _hoisted_15 = [_hoisted_14];\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon liebiao\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-31liebiao\"\n})], -1));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(), _createElementBlock(\"svg\", {\n    class: \"icon\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.go(-1))\n  }, _hoisted_3)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"zt\",\n    onKeydown: _cache[1] || (_cache[1] = _withKeys((...args) => $options.enterKey && $options.enterKey(...args), [\"enter\"])),\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchKey = $event)\n  }, null, 544), [[_vModelText, $data.searchKey]])]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.keyWordList, item => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: item,\n      class: \"spankey\",\n      onClick: $event => $options.searchHistory(item)\n    }, _toDisplayString(item), 9, _hoisted_6);\n  }), 128)), (_openBlock(), _createElementBlock(\"svg\", {\n    class: \"icon\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.delHistory && $options.delHistory(...args))\n  }, _hoisted_8)), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchList, (item, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"item\",\n      key: i\n    }, [_createElementVNode(\"div\", {\n      class: \"itemLeft\",\n      onClick: $event => $options.updataIndex(item)\n    }, [_createElementVNode(\"span\", _hoisted_11, _toDisplayString(i + 1), 1), _createElementVNode(\"div\", null, [_createElementVNode(\"p\", null, _toDisplayString(item.name), 1), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.artists, (item1, index) => {\n      return _openBlock(), _createElementBlock(\"span\", {\n        key: index\n      }, _toDisplayString(item1.name), 1);\n    }), 128))])], 8, _hoisted_10), _createElementVNode(\"div\", _hoisted_12, [item.mvid != 0 ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_13, _hoisted_15)) : _createCommentVNode(\"\", true), _hoisted_16])]);\n  }), 128))])])], 64);\n}","import \"core-js/modules/es.array.unshift.js\";\nimport { getSearchMusic } from \"@/request/api/home.js\";\nexport default {\n  data() {\n    return {\n      keyWordList: [],\n      searchKey: \"\",\n      searchList: []\n    };\n  },\n\n  mounted() {\n    // 将保存在localStorage里的keyWordList重新赋给数组keyWordList[]\n    this.keyWordList = JSON.parse(localStorage.getItem('keyWordList')) || [];\n  },\n\n  methods: {\n    // 搜索点击回车\n    enterKey: async function () {\n      if (this.searchKey != \"\") {\n        this.keyWordList.unshift(this.searchKey); // 数组去重\n\n        this.keyWordList = [...new Set(this.keyWordList)]; // 固定长度\n\n        if (this.keyWordList.length > 8) {\n          this.keyWordList.splice(this.keyWordList.length - 1, 1);\n        } // 将keyWordList保存在localStorage\n\n\n        localStorage.setItem(\"keyWordList\", JSON.stringify(this.keyWordList)); // 获取搜索接口返回的数据\n\n        let res = await getSearchMusic(this.searchKey);\n        console.log(res);\n        this.searchList = res.data.result.songs; // enter后清空输入框\n\n        this.searchKey = \"\";\n      }\n    },\n    delHistory: function () {\n      localStorage.removeItem(\"keyWordList\");\n      this.keyWordList = [];\n    },\n    // 点击历史记录搜索方法\n    searchHistory: async function (item) {\n      let res = await getSearchMusic(item);\n      console.log(res);\n      this.searchList = res.data.result.songs;\n    },\n    // \n    updataIndex: function (item) {\n      item.al = item.album;\n      item.al.picUrl = item.album.artist.img1v1Url;\n      this.$store.commit(\"pushPlayList\", item);\n      this.$store.commit(\"updataPlayListIndex\", this.$store.state.playList.length - 1);\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./Search.vue?vue&type=template&id=6753534a&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=6753534a&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\wyyzt\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6753534a\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","key","_hoisted_14","_hoisted_15","_hoisted_16","render","_ctx","_cache","$props","$setup","$data","$options","onClick","$event","$router","go","type","placeholder","onKeydown","args","enterKey","searchKey","keyWordList","item","searchHistory","delHistory","searchList","i","updataIndex","name","artists","item1","index","mvid","data","mounted","this","JSON","parse","localStorage","getItem","methods","async","unshift","Set","length","splice","setItem","stringify","res","console","log","result","songs","removeItem","al","album","picUrl","artist","img1v1Url","$store","commit","state","playList","__exports__"],"sourceRoot":""}